---
import { lunalink } from '@bearstudio/lunalink';

import { getEventsCollection } from '@/lib/events';
import SEO from '@/components/SEO/index.astro';
import MainLayout from '@/layouts/MainLayout.astro';
import { ROUTES } from '@/routes.gen';

const events = await getEventsCollection();
---

<MainLayout>
  <!-- [TODO]: Metadata -->
  <SEO slot="seo" title="Evenements" />
  <div class="mx-auto w-full max-w-screen-xl px-4">
    <div class="grid gap-4 md:grid-cols-2 lg:grid-cols-3">
      {
        events.map((event) => (
          <a href={lunalink(ROUTES.events[':id'].__path, { id: event.id })}>
            {event.data.title}
          </a>
        ))
      }
    </div>
  </div>
</MainLayout>
